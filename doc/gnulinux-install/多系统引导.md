# 多系统引导，可以在开机时用不同快捷键切换进入不同系统，达到隐藏linux系统启动的目的 #    

多系统引导工具可以让用户在开机时通过快捷键选择进入不同系统（避开系统选择界面提示），设置一个为默认系统，隐藏linux发行部bios启动项，修改efi启动分区文件，达到隐藏伪装和快速切换linux系统的目的。这样别人在拿到用户的设备时启动只会看到windows系统。 

- 视频参考教程：看视频时别急着动手操作,看完视频再按后面的文字说明进行操作。（文字教程和视频教程有部分优化方案的区别）                  
[在下莫老师-轻量化的多系统引导工具！XORBOOT使用指南](https://www.bilibili.com/video/BV1sZ421M7zp)      

-  xorboot软件下载地址：           
[开源代码平台上传下载地址（软件本身非开源）：](/doc/gnulinux-install/xorboot/XorBootU.exe/)    


点击访问，点击下载按钮进行下载，如果下载不了，请开启代理下载，        
如果没有代理，访问下面的国内垃圾软件站下载（通常情况下不推荐）        
https://www.xitongzhijia.net/soft/211726.html 
（不要点击安全下载，这个会捆绑国产杀毒软件和垃圾）                 
https://www.upantool.com/qidong/qtqd/8480.html#downs           （里面的链接是百度网盘）      
或者自行浏览器搜索xorboot 进行下载（最好使用google搜索或者duckduckgo搜索引擎进行搜索，避免虚假网页和软件垃圾捆绑）   ，或者看上面视频评论区的下载地址。       

--- 
       
1.  插入做好ventoy的启动u盘，u盘启动进入ventoy主界面，选择 firepe.iso的镜像启动windows  pe环境，打开分区工具diskgenus，点击第一个esp分区(efi)，鼠标右键菜单点击取消隐藏分区，点击保存更改。打开文件管理器，如果没有出现这个新的已经分配盘符的引导小分区（分区大小为安装系统设置的大小或者原windows引导分区的大小），就重启电脑重新进入pe环境。 （注意：ventoy和windows pe也会分别生存一个efi分区，大小只有几十m,这两个和本地磁盘的系统引导分区不一样不要搞混了）            
2.  windows文件管理器打开分配盘符的本地磁盘系统的efi引导分区，看到EFI文件夹，此文件夹内的文件就是系统引导文件，复制此EFI文件夹到其他分区或者u盘进行备份。  打开efi文件夹，找到linux系统的文件夹，比如endos分的引导文件夹，看到文件夹内有个叫 grubx64.efi的文件，这个就是引导文件。返回上一级，复制此linux系统文件夹粘贴到此目录，修改复制的文件夹名进行伪装，起文件夹名比如 叫  USB BOOT  。 

3. 下载并 打开xorbootu.exe，点击  添加到uefi启动序列，点击添加，目录选择修改后的 USB BOOT位置下的grubx64.efi ，菜单标题改为 USB BOOT，将新家的这个启动项上移到 usb storge下面，windows上面。最后点击保存。   
 注意：如果uefi启动序列里面没有windows选项，说明安装系统后windows引导丢失，这时需要修复windows引导。            
（1）. windows的efi文件未丢失，文件管理打开本地efi分区EFI文件夹，查看是否有Microsoft文件夹，打开文件夹，打开下一级boot文件夹，看到类似bootmgfw.efi文件。回到xorbootu软件 uefi启动序列点击添加，目录文件选择刚刚看到的bootmgfw.efi 的目录和文件,名称命名为windows,移动到usb storge下面   保存，拔除u盘重启看是否能进入windows。          
（2）.按照步骤一如果没有Microsoft文件夹，就需要重新生成引导文件，打开pe里面的开始菜单，找到系统维护-WIndows引导修复，鼠标点击本地引导分区的正确盘符确认执行修复  ，修复完成后重复步骤（1）,如果修复完成后还没有MIcrosoft文件夹，重启电脑再次u盘进入pe环境  。      

4. 拔出u盘，重启电脑，看能否进入linux系统，如果可以，进行下一步操作。      
5.  重启电脑再次u盘启动进入pe环境，文件管理打开efi分区的EFI文件夹右键菜单建立新文件夹，命名为 xorboot。  打开下载的xorbootu.exe，点击新建菜单，点击全局设置，勾选不显示选择菜单，勾选超时自动启动，超时时间改为比如6，然后点击启动菜单编辑启动项。      

6. 编辑启动项，点击删除，一一删除能删除的所有启动项，然后点击添加，观察此界面分区下面的文件名，是否为/EFI/MIicrosoft/Boot/bootmgfw.efi，如果是，则为windows启动项，点击启动热键，改为比如A，然后在生成文本菜单下方修改启动项名为windows。再次点击添加，点击分区下面的文件名旁的...，目录选择efi分区下修改文件名进行位置的linux文件夹（示例为 USB BOOT）的grubx64.efi，启动热键改为比如B。生成文本菜单改为 比如 USB BOOT    。确保次启动项在windows之下，如果在之上，点击下移移动到下面。   
7. 点击另存为，目录选择efi分区的EFI文件夹下新建的xorboot,保存文件名设置为xorboot。然后点击关闭。回到软件首页，点击-编辑到EFI启动序列。点击保导出XORBOOT.EFI，目录还是选择efi分区的EFI文件夹下的 xorboot文件夹内。文件名起为bootx64。    
8. 保存完毕后再回到软件的uefi启动序列那里，点击添加，目录选择efi分区EFI文件夹的xorboot文件夹的新生成的boottx64.efi，菜单标题起名为xorboot,将其移动到USB Storge启动项之下，windows和linux之上。然后点击保存到设置。   
9. 拔出u盘，重启电脑，重启开机按住之前设置的windows快捷键，看能否进入windows系统。成功进入后再次重启电脑，开机按住之前设置的linux快捷键看能否进入linux系统，如果能说明操作完毕。   
10. 插入u盘，最后一次重启进入u盘的win pe环境，打开efi分区的EFI文件夹，找到未经修改的原linux文件夹将其删除。打开xorbootu.exe,点击添加到wefi序列，找到，手动添加的linux系统项和原linux系统项，将这两个都删除，然后保存。    
11. 所有操作完成,拔除u盘重启即可正常使用。     








            



